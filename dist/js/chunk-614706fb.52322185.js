(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-614706fb"],{"0608":function(t,e,n){},1422:function(t,e,n){},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),s=n("e95a"),o=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,f,d,m,p=a(t),b="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,w=l(p),y=0;if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==w||b==Array&&s(w))for(e=o(p.length),n=new b(e);e>y;y++)m=g?v(p[y],y):p[y],c(n,y,m);else for(f=w.call(p),d=f.next,n=new b;!(u=d.call(f)).done;y++)m=g?i(f,v,[u.value,y],!0):u.value,c(n,y,m);return n.length=y,n}},"5cbe":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},6301:function(t,e,n){"use strict";var r=n("1422"),a=n.n(r);a.a},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),i=n("1c7e"),s=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:a})},aa19:function(t,e,n){},aa2e:function(t,e,n){"use strict";var r=n("0608"),a=n.n(r);a.a},b3d7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("nav-bar",{staticClass:"home-nav"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),n("tab-Control",{directives:[{name:"show",rawName:"v-show",value:t.istabfixed,expression:"istabfixed"}],ref:"tabControlref1",staticClass:"tab-control",attrs:{title:t.titleList},on:{tabclick:t.tabClick}}),n("Scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.contentScroll,pullingUp:t.loadmore}},[n("Swiper",{attrs:{banners:t.banners},on:{imgLoad:t.swiperImgLoad}}),n("Recommend-View",{attrs:{recomends:t.recomends}}),n("feature-view"),n("tab-Control",{ref:"tabControlref2",attrs:{title:t.titleList},on:{tabclick:t.tabClick}}),n("Good-List",{attrs:{goods:t.goods[t.currtype].list}})],1),n("Back-Top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(e){return t.backTopClick(e)}}})],1)},a=[];n("4de4");function i(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return i(t)||s(t)||o()}var l=n("a7ac"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabControl"},t._l(t.title,(function(e,r){return n("div",{staticClass:"tab-item",class:t.currentindex==r?"active":" ",on:{click:function(e){return t.itemclick(r)}}},[n("span",[t._v(t._s(e.title))])])})),0)},f=[],d={props:{title:{type:Array,default:[]}},data:function(){return{currentindex:0}},methods:{itemclick:function(t){this.currentindex=t,this.$emit("tabclick",t)}}},m=d,p=(n("6301"),n("2877")),b=Object(p["a"])(m,u,f,!1,null,"b0f94c80",null),h=b.exports,v=n("6d71"),g=n("5d17"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Swiper",t._l(t.banners,(function(e){return n("swiper-item",[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image},on:{load:t.imgLoad}})])])})),1)],1)},y=[],k=n("dc2c"),x={components:{Swiper:k["a"],SwiperItem:k["b"]},props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isload:!1}},methods:{imgLoad:function(){this.isload||(this.$emit("imgLoad"),this.isload=!0)}}},C=x,_=Object(p["a"])(C,w,y,!1,null,null,null),$=_.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommends"},t._l(t.recomends,(function(e){return n("div",{staticClass:"recommends-item"},[n("a",{attrs:{href:"item.link"}},[n("img",{attrs:{src:e.image,alt:""}}),n("span",[t._v(t._s(e.title))])])])})),0)},O=[],j={components:{},props:{recomends:{type:Array,default:function(){return[]}}},data:function(){return{}}},A=j,S=(n("cb03"),Object(p["a"])(A,L,O,!1,null,null,null)),T=S.exports,E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},H=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feature"},[r("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[r("img",{attrs:{src:n("5cbe"),alt:""}})])])}],B={},I=B,G=(n("aa2e"),Object(p["a"])(I,E,H,!1,null,"b650e4da",null)),Y=G.exports,N=n("eecb"),V=n("1bab");function z(){return Object(V["a"])({url:"/home/multidata",method:"GET"})}function J(t,e){return Object(V["a"])({url:"/home/data",method:"GET",params:{type:t,page:e}})}var M={components:{NavBar:l["a"],Swiper:$,RecommendView:T,FeatureView:Y,tabControl:h,GoodList:v["a"],Scroll:g["a"]},mixins:[N["b"],N["a"]],data:function(){return{banners:[],recomends:[],titleList:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currtype:"pop",tabOffset:0,istabfixed:!1,saveY:0,itemLister:null}},destroyed:function(){console.log(111)},activated:function(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.getsaveY(),this.$bus.$off("ImgLoad",this.itemLister)},created:function(){this.getHomeMuticata(),this.getHomegoods("pop"),this.getHomegoods("new"),this.getHomegoods("sell")},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.scroll.refresh()}))},methods:{tabClick:function(t){switch(t){case 0:this.currtype="pop";break;case 1:this.currtype="new";break;case 2:this.currtype="sell";break}this.$refs.tabControlref2.currentindex=t,this.$refs.tabControlref1.currentindex=t},contentScroll:function(t){this.isBackTop=-t.y>1e3,this.istabfixed=-t.y>this.tabOffset},loadmore:function(){this.getHomegoods(this.currtype),console.log("上拉加载等更多")},swiperImgLoad:function(){this.tabOffset=this.$refs.tabControlref2.$el.offsetTop},getHomeMuticata:function(){var t=this;z().then((function(e){t.banners=e.data.banner.list,t.recomends=e.data.recommend.list}))},getHomegoods:function(t){var e=this,n=this.goods[t].page+1;J(t,n).then((function(n){var r;e.titleList=n.data.filter.list,(r=e.goods[t].list).push.apply(r,c(n.data.list)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))}}},R=M,U=(n("d089"),Object(p["a"])(R,r,a,!1,null,"db8ca4ca",null));e["default"]=U.exports},cb03:function(t,e,n){"use strict";var r=n("aa19"),a=n.n(r);a.a},d089:function(t,e,n){"use strict";var r=n("eafd"),a=n.n(r);a.a},eafd:function(t,e,n){}}]);
//# sourceMappingURL=chunk-614706fb.52322185.js.map